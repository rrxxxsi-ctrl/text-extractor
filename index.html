<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>منصة عبدالإله فلاته - OCR PRO</title>
    
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root {
            --bg: #070708; --card-bg: #121214; --text: #ffffff;
            --primary: #9d4edd; --accent: #00d4ff; --border: rgba(255, 255, 255, 0.1);
        }
        
        /* أنيميشن الخلفية */
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body { 
            margin: 0; 
            background: linear-gradient(-45deg, #070708, #1a1a2e, #070708, #0f0f1a);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text); 
            font-family: 'Cairo', sans-serif; 
            min-height: 100vh; 
            display: flex; 
            flex-direction: column; 
            overflow-x: hidden;
        }

        /* دخول ناعم للعناصر */
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header-profile { 
            display: flex; align-items: center; justify-content: space-between; 
            padding: 15px 6%; background: rgba(18, 18, 20, 0.8); 
            backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); 
        }

        .user-brand { display: flex; align-items: center; gap: 12px; }
        .avatar-box { 
            width: 50px; height: 50px; border-radius: 50%; 
            border: 2px solid var(--primary); overflow: hidden; position: relative;
            transition: transform 0.3s ease;
        }
        .avatar-box:hover { transform: rotate(5deg) scale(1.1); }
        .avatar-box img { width: 100%; height: 100%; object-fit: cover; }
        
        /* نبض التوثيق */
        .v-badge { 
            position: absolute; bottom: 12px; right: calc(6% + 45px); 
            color: var(--accent); font-size: 0.9rem; z-index: 10;
            animation: pulse-blue 2s infinite;
        }
        @keyframes pulse-blue {
            0% { text-shadow: 0 0 0 rgba(0, 212, 255, 0.7); }
            70% { text-shadow: 0 0 10px rgba(0, 212, 255, 0.7); }
            100% { text-shadow: 0 0 0 rgba(0, 212, 255, 0); }
        }

        .site-description { text-align: center; padding: 30px 20px 10px; }
        .site-description h1 { 
            font-size: 1.8rem; margin: 0; 
            background: linear-gradient(45deg, #fff, var(--accent), var(--primary)); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .main-content { flex: 1; display: flex; align-items: flex-start; justify-content: center; padding: 20px; }
        
        .super-card { 
            width: 100%; max-width: 550px; background: var(--card-bg); 
            border-radius: 25px; padding: 25px; border: 1px solid var(--border); 
            text-align: center; box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        .super-card:hover { border-color: var(--primary); transform: translateY(-5px); }

        .upload-box { 
            border: 2px dashed var(--border); border-radius: 20px; padding: 35px; 
            margin-bottom: 20px; cursor: pointer; transition: all 0.3s ease; 
        }
        .upload-box:hover { 
            border-color: var(--accent); background: rgba(0, 212, 255, 0.05);
            box-shadow: inset 0 0 20px rgba(0, 212, 255, 0.1);
        }

        .action-btn { 
            background: linear-gradient(135deg, var(--primary), var(--accent)); 
            border: none; padding: 18px; border-radius: 15px; color: #fff; 
            font-weight: 900; cursor: pointer; width: 100%; font-size: 1.1rem;
            transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .action-btn:hover { filter: brightness(1.2); transform: scale(1.02); }

        textarea { 
            width: 100%; height: 320px; background: #000; color: #fff; 
            border: 1px solid var(--primary); border-radius: 15px; padding: 20px; 
            margin-top: 20px; box-sizing: border-box; outline: none; resize: none; 
            text-align: right; font-size: 1.3rem; line-height: 2; font-family: 'Amiri', serif;
            transition: all 0.3s ease;
        }
        textarea:focus { box-shadow: 0 0 15px rgba(157, 78, 221, 0.3); }

        .footer-section { padding: 20px; background: rgba(18, 18, 20, 0.8); border-top: 1px solid var(--border); }
        .contact-grid { display: flex; gap: 15px; max-width: 550px; margin: 0 auto 15px; }
        .c-item { 
            flex: 1; background: rgba(255,255,255,0.05); padding: 12px; 
            border-radius: 12px; border: 1px solid var(--border); color: #fff; 
            text-decoration: none; font-size: 0.85rem; display: flex; 
            align-items: center; justify-content: center; gap: 8px;
            transition: all 0.3s ease;
        }
        .c-item:hover { background: var(--primary); transform: translateY(-3px); }

        #status { display: none; margin: 20px 0; color: var(--accent); font-weight: bold; }
    </style>
</head>
<body class="fade-in">

    <header class="header-profile">
        <div class="user-brand">
            <div class="avatar-box"><img src="https://www2.0zz0.com/2025/12/17/06/790723590.jpg" alt="عبدالإله"></div>
            <span style="font-weight: 900;">عبدالإله فلاته</span>
        </div>
        <i class="fas fa-check-circle v-badge"></i>
    </header>

    <section class="site-description fade-in">
        <h1>مستخرج الخواطر الذكي</h1>
        <p>تحويل صور الاقتباسات إلى نصوص نقية ومرتبة بلمسة واحدة، مع تصحيح تلقائي فوري.</p>
    </section>

    <main class="main-content fade-in">
        <div class="super-card">
            <div class="upload-box" onclick="document.getElementById('imageInput').click()">
                <i class="fas fa-wand-magic-sparkles fa-3x" style="color: var(--primary); margin-bottom: 15px; transition: 0.5s;" id="magicIcon"></i>
                <h3>ارفع صورة الخاطرة</h3>
                <p style="font-size: 0.85rem; opacity: 0.6;">دقة عالية في استخراج النصوص العربية</p>
            </div>
            
            <input type="file" id="imageInput" hidden accept="image/*">
            <div id="status"><i class="fas fa-spinner fa-spin"></i> جاري الاستخراج والترتيب...</div>

            <div id="resultArea" style="display:none;">
                <textarea id="output" spellcheck="false"></textarea>
                <button class="action-btn" style="background:#27ae60; margin-top:15px;" onclick="copyResult()">
                    <i class="fas fa-copy"></i> نسخ النص المرتب
                </button>
            </div>
        </div>
    </main>

    <div class="footer-section">
        <div class="contact-grid">
            <a href="mailto:iioe@outlook.sa" class="c-item"><i class="fas fa-envelope"></i> iioe@outlook.sa</a>
            <a href="tel:0591388202" class="c-item"><i class="fas fa-phone"></i> 0591388202</a>
        </div>
        <div style="text-align:center; opacity:0.6; font-size:0.8rem;">جميع الحقوق محفوظة لعبدالإله فلاته © 2025</div>
    </div>

    <script>
        document.getElementById('imageInput').addEventListener('change', async function(e) {
            const file = e.target.files[0];
            if (!file) return;

            document.getElementById('status').style.display = 'block';
            document.getElementById('resultArea').style.display = 'none';
            document.getElementById('magicIcon').style.color = 'var(--accent)';

            const worker = await Tesseract.createWorker('ara');
            const { data: { text } } = await worker.recognize(file);
            await worker.terminate();

            document.getElementById('output').value = formatText(text);
            document.getElementById('status').style.display = 'none';
            document.getElementById('resultArea').style.display = 'block';
            document.getElementById('magicIcon').style.color = 'var(--primary)';
        });

        function formatText(raw) {
            return raw.split('\n')
                .map(line => line.trim())
                .filter(line => {
                    const isNoise = /بحث|إضافة|تعليق|مشاركة|tikt|@|#|[0-9]{4}/i.test(line);
                    return line.length > 4 && !isNoise;
                })
                .join('\n\n')
                .replace(/يظتون/g, 'يظنون')
                .replace(/تالفه/g, 'تألفه')
                .replace(/هيئه/g, 'هيئة')
                .replace(/[^\u0600-\u06FF\s\.\،\!\؟]/g, '')
                .trim();
        }

        function copyResult() {
            const out = document.getElementById('output');
            out.select();
            document.execCommand('copy');
            alert('تم النسخ بنجاح!');
        }
    </script>
</body>
</html>
