<script>
    const dictionary = {
        ar: {
            langLabel: "EN", title: "مكتب بدر الحقيل للعقارات", subtitle: "استشارات هندسية معتمدة",
            ctaText: "أنا معك خطوة بخطوة للإشراف على معاملتك الهندسية وضمان قبولها نظاماً",
            ctaBtn: "ابدأ معاملتك الآن", resTab: "المسار السكني", comTab: "المسار التجاري",
            call: "اتصال", wa: "واتساب", loc: "الموقع",
            data: {
                res: [
                    { t: "بدء تصحيح الوضع", d: "تقديم طلب تصحيح وضع مبنى قائم للبدء في إجراءات إصدار رخصة البناء النظامية." },
                    { t: "الرفع المساحي", d: "رفع المقاسات الفعلي من الطبيعة لضمان مطابقة المخططات للواقع بدقة متناهية." },
                    { t: "مخطط الوضع القائم", d: "إنشاء المخططات الهندسية التي توثق حالة المبنى الراهنة بكل تفاصيله." },
                    { t: "التخطيط المقترح", d: "إعداد المخطط الهندسي المقترح بما يتوافق مع أنظمة البلدية وكود البناء." },
                    { t: "التقرير الفني", d: "إصدار التقرير الفني المعتمد الذي يثبت سلامة وجودة المبنى إنشائياً." },
                    { t: "الاعتماد والبلدية", d: "إرسال المعاملة المكتملة إلى البلدية الفرعية لمراجعتها واعتماد إصدار الرخصة." }
                ],
                com: [
                    { t: "تصحيح وضع تجاري", d: "بدء مسار تصحيح وضع المباني التجارية لإصدار الرخص اللازمة لمزاولة النشاط." },
                    { t: "الرفع الميداني للموقع", d: "زيارة الموقع ورفع المقاسات الفعلية لضمان مطابقتها لاشتراطات الأمانة." },
                    { t: "توثيق الوضع القائم", d: "إنشاء مخططات هندسية دقيقة توضح الوضع الحالي للمنشأة التجارية." },
                    { t: "الدراسة الفنية والهندسية", d: "إعداد المخططات المقترحة والتقارير الفنية اللازمة لسلامة المنشأة." },
                    { t: "مخططات السلامة", d: "إنشاء مخططات السلامة المعتمدة لضمان مطابقة المبنى لاشتراطات الدفاع المدني." },
                    { t: "التصميم ثلاثي الأبعاد 3D", d: "عمل واجهة 3D احترافية للمبنى تبرز هويته وتتوافق مع اشتراطات الأمانة." },
                    { t: "الاعتماد من الأمانة", d: "رفع المعاملة مباشرة إلى الأمانة لمتابعة الاعتماد النهائي وإصدار رخصة البناء." }
                ]
            }
        },
        en: {
            langLabel: "AR", title: "Bader Al-Hogail Real Estate", subtitle: "Certified Engineering Consultancy",
            ctaText: "I personally supervise your engineering transactions to ensure official approval.",
            ctaBtn: "Start Process Now", resTab: "Residential", comTab: "Commercial",
            call: "Call", wa: "WhatsApp", loc: "Location",
            data: {
                res: [
                    { t: "Status Correction Start", d: "Starting the process of correcting existing building status for permit issuance." },
                    { t: "Site Measurement", d: "Actual on-site laser measurements to ensure 100% accuracy with the plans." },
                    { t: "As-Built Drawings", d: "Creating engineering drawings documenting the current state of the building." },
                    { t: "Proposed Planning", d: "Preparing proposed engineering plans compliant with building codes." },
                    { t: "Technical Report", d: "Issuing certified technical reports proving the building's structural integrity." },
                    { t: "Municipal Approval", d: "Submitting the file to the sub-municipality for final license approval." }
                ],
                com: [
                    { t: "Commercial Correction", d: "Starting the commercial status correction path for business licensing." },
                    { t: "Site Survey", d: "Field measurements to ensure compliance with Amanah requirements." },
                    { t: "Status Documentation", d: "Detailed engineering drawings of the current commercial facility." },
                    { t: "Technical Engineering", d: "Preparing proposed designs and necessary structural safety reports." },
                    { t: "Safety Plans", d: "Creating safety and fire protection plans according to Civil Defense standards." },
                    { t: "3D Facade Design", d: "Professional 3D visualization for the building exterior." },
                    { t: "Amanah Accreditation", d: "Submitting the file to the Main Amanah for final licensing and approval." }
                ]
            }
        }
    };

    let currentLang = 'ar';
    let currentTrack = 'res';
    let isDarkMode = true;

    // ... باقي الوظائف (toggleTheme, toggleLanguage, switchTrack, renderContent) تبقى كما هي في كودك الأصلي ...
    
    function renderContent() {
        const container = document.getElementById('steps-container');
        container.innerHTML = '';
        const steps = dictionary[currentLang].data[currentTrack];
        steps.forEach((step, index) => {
            const card = document.createElement('div');
            card.className = 'step-card';
            card.innerHTML = `
                <div class="step-num">${index + 1}</div>
                <div class="flex-1 ${currentLang === 'ar' ? 'text-right' : 'text-left'}">
                    <h3 class="text-md font-bold mb-1">${step.t}</h3>
                    <p class="text-xs text-gray-400 font-medium leading-relaxed">${step.d}</p>
                </div>`;
            container.appendChild(card);
            setTimeout(() => card.classList.add('show'), index * 100);
        });
    }

    window.onload = renderContent;
</script>
